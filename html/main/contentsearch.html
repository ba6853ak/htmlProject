<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="search1.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">


    <style>
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            list-style: none;
            padding: 0;
        }

        .pagination li {
            margin: 0 5px;
        }

        .pagination button {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 10px 15px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .pagination button:hover {
            background-color: #ddd;
        }

        .pagination button.active {
            background-color: #4285f4;
            color: white;
            border: 1px solid #4285f4;
        }

        .pagination button.disabled {
            background-color: #f5f5f5;
            color: #ccc;
            cursor: not-allowed;
        }

        .current-page-info {
            text-align: center;
            margin-top: 10px;
        }

        .top-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #4285f4;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            display: none;
            font-size: 16px;
            border-radius: 50%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .top-btn:hover {
            background-color: #2c6ad4;
        }
    </style>

</head>




<body>


    <div class="search-container">
        <div class="search-bar">
            <select class="dropdown">
                <option value="title">제목</option>
                <option value="content">내용</option>
                <option value="author">발제자</option>
            </select>

            <div class="input-container">
                <span class="search-icon">🔍</span>
                <input type="text" class="search-input" placeholder="검색어를 입력해주십시오">
            </div>
            <div class="button_group">

                <button class="search-btn">검색</button>
                <button class="reset-btn">초기화</button>
                <button class="settings-btn" onclick="toggleSettings()">상세설정 &#9660;</button>

            </div>

        </div>

        <!-- 상세설정 섹션 -->
        <div id="advanced-settings" class="advanced-settings">
            <div class="settings-row">
                <label>참여기간</label>
                <input type="date" value="2023-09-11">
                ~
                <input type="date" value="2024-09-11">
                <input type="radio" name="period" value="2주일"> 2주일
                <input type="radio" name="period" value="1개월"> 1개월
                <input type="radio" name="period" value="2개월"> 2개월
            </div>

            <div class="settings-row">
                <label>참여유형</label>
                <button class="btn">전체</button>
                <button class="btn">대화</button>
                <button class="btn">투표</button>
                <button class="btn">설문</button>
            </div>

            <div class="settings-row">
                <label>등록자</label>&nbsp;&nbsp;&nbsp;
                <button class="btn">전체</button>
                <button class="btn">학생</button>
                <button class="btn">학교</button>
            </div>

            <div class="settings-row">
                <label>상태</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button class="btn">전체</button>
                <button class="btn">진행중</button>
                <button class="btn">완료</button>
            </div>

        </div>
    </div>

    <div class="rpi-container">
        <div class="result-info">
            <span class="total-count">총 <span class="highlight">0</span>건</span>
            <span class="divider">|</span>
            <span class="sort-option">최신순</span>
            <span class="divider">|</span>
            <span class="sort-option">참여순</span>
            <span class="divider">|</span>
            <span class="sort-option">진행중</span>
        </div>
    </div>


    <div class="container">
        <!-- 카드 배치 시작 -->

        <div class="container">
            <!-- 동적으로 카드가 추가될 컨테이너 -->
            <div class="card-container" id="card-container"></div>
        </div>







        <!-- 페이지네이션 버튼 -->
        <ul class="pagination" id="pagination"></ul>

        <!-- 상단으로 이동 버튼 -->
        <button class="top-btn" id="topBtn" onclick="scrollToTop()">↑</button>
    </div>
    <!-- 페이지네이션 버튼 -->
    <ul class="pagination" id="pagination"></ul>

    <!-- 상단으로 이동 버튼 -->
    <button class="top-btn" id="topBtn" onclick="scrollToTop()">↑</button>


    <script>

        document.querySelector('.settings-btn').addEventListener('click', function () {
            var advancedSettings = document.querySelector('.advanced-settings');

            if (advancedSettings.classList.contains('open')) {
                advancedSettings.style.maxHeight = advancedSettings.scrollHeight + 'px'; // 현재 높이로 설정
                setTimeout(function () {
                    advancedSettings.classList.remove('open');
                    advancedSettings.style.maxHeight = '0';  // 접을 때 높이를 0으로 부드럽게
                }, 10);
            } else {
                advancedSettings.style.display = 'block';  // 먼저 보여지게 하고
                setTimeout(function () {
                    advancedSettings.classList.add('open');
                    advancedSettings.style.maxHeight = advancedSettings.scrollHeight + 'px';  // 높이를 콘텐츠에 맞게 조정
                }, 10);  // 애니메이션 적용을 위한 약간의 지연 시간
            }
        });



        // 카드 데이터 (100개 예시)
        const cards = [];
        for (let i = 1; i <= 100; i++) {
            cards.push({
                title: `제안 ${i}`,
                author: `작성자 ${i}`,
                date: `2024.${Math.floor(Math.random() * 12) + 1}.${Math.floor(Math.random() * 28) + 1}`,
                type: "대화",
                participants: Math.floor(Math.random() * 20) + 1,
                likes: Math.floor(Math.random() * 15),
                dislikes: Math.floor(Math.random() * 10),
                comments: Math.floor(Math.random() * 6)
            });
        }

        const itemsPerPage = 12; // 한 페이지에 보여줄 카드 개수
        const paginationSize = 5; // 페이지네이션에 보여줄 페이지 번호 개수 (추가된 부분)
        let currentPage = 1;

        function displayCards(page) {
            const cardContainer = document.getElementById('card-container');
            cardContainer.style.opacity = 0;

            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, cards.length);

            cardContainer.innerHTML = ''; // 기존 카드 제거
            for (let i = startIndex; i < endIndex; i++) {
                const cardHTML = `
                    <div class="card">
                        <div class="card-header">
                            <span class="type-tag">${cards[i].type}</span>
                            <span class="new-content" style="color: #4CAF50; font-weight: 500;">New</span>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title">${cards[i].title}</h3>
                            <p class="author">${cards[i].author}</p>
                            <p class="date">${cards[i].date}</p>
                        </div>
                        <div class="card-footer">
                            <span class="participants">
                                <i class="fa fa-user"></i>
                                <span>${cards[i].participants}</span>
                            </span>
                            <span class="likes">
                                <i class="fa fa-thumbs-up"></i>
                                <span>${cards[i].likes}</span>
                            </span>
                            <span class="dislikes">
                                <i class="fa fa-thumbs-down"></i>
                                <span>${cards[i].dislikes}</span>
                            </span>
                            <span class="comments">
                                <i class="fa fa-comment"></i>
                                <span>${cards[i].comments}</span>
                            </span>
                        </div>
                    </div>
                `;
                cardContainer.innerHTML += cardHTML;
            }

            setTimeout(() => {
                cardContainer.style.opacity = 1;
            }, 100); // 애니메이션 효과
        }

        function displayPagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = ''; // 기존 페이지네이션 버튼 제거

            const totalPages = Math.ceil(cards.length / itemsPerPage);
            const currentPageGroup = Math.floor((currentPage - 1) / paginationSize);

            // 처음으로 가기 버튼
            const firstPageBtn = document.createElement('li');
            firstPageBtn.innerHTML = `<button ${currentPage === 1 ? 'class="disabled"' : ''}>처음</button>`;
            firstPageBtn.addEventListener('click', () => {
                currentPage = 1;
                updateDisplay();
            });
            pagination.appendChild(firstPageBtn);

            // 이전 페이지 버튼
            const prevBtn = document.createElement('li');
            prevBtn.innerHTML = `<button ${currentPage === 1 ? 'class="disabled"' : ''}>&laquo;</button>`;
            prevBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    updateDisplay();
                }
            });
            pagination.appendChild(prevBtn);

            // 현재 페이지 그룹의 페이지 번호 버튼들
            const startPage = currentPageGroup * paginationSize + 1;
            const endPage = Math.min(startPage + paginationSize - 1, totalPages);
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('li');
                pageBtn.innerHTML = `<button ${i === currentPage ? 'class="active"' : ''}>${i}</button>`;
                pageBtn.addEventListener('click', () => {
                    currentPage = i;
                    updateDisplay();
                });
                pagination.appendChild(pageBtn);
            }

            // 다음 페이지 버튼
            const nextBtn = document.createElement('li');
            nextBtn.innerHTML = `<button ${currentPage === totalPages ? 'class="disabled"' : ''}>&raquo;</button>`;
            nextBtn.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    updateDisplay();
                }
            });
            pagination.appendChild(nextBtn);

            // 마지막으로 가기 버튼
            const lastPageBtn = document.createElement('li');
            lastPageBtn.innerHTML = `<button ${currentPage === totalPages ? 'class="disabled"' : ''}>마지막</button>`;
            lastPageBtn.addEventListener('click', () => {
                currentPage = totalPages;
                updateDisplay();
            });
            pagination.appendChild(lastPageBtn);

            // 현재 페이지 정보 업데이트
            document.getElementById('current-page-info').innerText = `현재 페이지: ${currentPage} / ${totalPages}`;
        }



        function updateDisplay() {
            displayCards(currentPage);
            displayPagination();
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.addEventListener('scroll', () => {
            const topBtn = document.getElementById('topBtn');
            if (window.pageYOffset > 300) {
                topBtn.style.display = 'block';
            } else {
                topBtn.style.display = 'none';
            }
        });

        // 초기 로드 시 실행
        updateDisplay();






    </script>

</body>

</html>